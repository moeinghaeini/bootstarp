/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scripts/main.ts":
/*!*****************************!*\
  !*** ./src/scripts/main.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/**\n * Main Portfolio Application Class\n * Handles all website functionality with type safety\n */\nclass PortfolioApp {\n    constructor() {\n        this.errorReports = [];\n        this.analyticsEvents = [];\n        this.initializeApp();\n    }\n    /**\n     * Initialize the application with proper error handling\n     */\n    async initializeApp() {\n        try {\n            await this.loadUserPreferences();\n            await this.initializeTheme();\n            await this.initializePerformanceMonitoring();\n            await this.initializeAllFeatures();\n            await this.setupErrorHandling();\n            await this.initializeAnalytics();\n            this.trackEvent('app_initialized', 'application', 'startup');\n            console.log('ðŸš€ Portfolio App initialized successfully');\n        }\n        catch (error) {\n            this.handleError(error, 'app_initialization');\n        }\n    }\n    /**\n     * Load user preferences from localStorage with fallbacks\n     */\n    async loadUserPreferences() {\n        const defaultPreferences = {\n            theme: 'light',\n            language: 'en',\n            animations: true,\n            reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,\n            highContrast: false,\n            fontSize: 'medium',\n            notifications: true\n        };\n        try {\n            const stored = localStorage.getItem('userPreferences');\n            this.userPreferences = stored ? { ...defaultPreferences, ...JSON.parse(stored) } : defaultPreferences;\n        }\n        catch (error) {\n            this.userPreferences = defaultPreferences;\n            console.warn('Failed to load user preferences, using defaults');\n        }\n    }\n    /**\n     * Initialize theme system with type safety\n     */\n    async initializeTheme() {\n        const themeToggle = document.getElementById('themeToggle');\n        const themeIcon = document.getElementById('themeIcon');\n        const body = document.body;\n        if (!themeToggle || !themeIcon) {\n            throw new Error('Theme elements not found');\n        }\n        // Apply saved theme or default\n        const currentTheme = this.userPreferences.theme === 'auto'\n            ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')\n            : this.userPreferences.theme;\n        body.setAttribute('data-theme', currentTheme);\n        this.updateThemeIcon(currentTheme, themeIcon);\n        // Theme toggle event listener\n        themeToggle.addEventListener('click', () => {\n            const currentTheme = body.getAttribute('data-theme');\n            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n            this.switchTheme(newTheme, body, themeIcon);\n            this.trackEvent('theme_changed', 'ui', 'interaction', newTheme);\n        });\n        // Listen for system theme changes\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\n            if (this.userPreferences.theme === 'auto') {\n                const newTheme = e.matches ? 'dark' : 'light';\n                this.switchTheme(newTheme, body, themeIcon);\n            }\n        });\n    }\n    /**\n     * Switch theme with smooth transition\n     */\n    switchTheme(theme, body, icon) {\n        body.setAttribute('data-theme', theme);\n        this.userPreferences.theme = theme;\n        this.updateThemeIcon(theme, icon);\n        // Save preferences\n        localStorage.setItem('userPreferences', JSON.stringify(this.userPreferences));\n        // Add transition effect\n        body.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';\n        setTimeout(() => {\n            body.style.transition = '';\n        }, 300);\n    }\n    /**\n     * Update theme icon with proper typing\n     */\n    updateThemeIcon(theme, icon) {\n        icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';\n        icon.setAttribute('aria-label', `Switch to ${theme === 'dark' ? 'light' : 'dark'} theme`);\n    }\n    /**\n     * Initialize performance monitoring with Core Web Vitals\n     */\n    async initializePerformanceMonitoring() {\n        if (!('PerformanceObserver' in window)) {\n            console.warn('PerformanceObserver not supported');\n            return;\n        }\n        this.performanceMetrics = {\n            lcp: 0,\n            fid: 0,\n            cls: 0,\n            fcp: 0,\n            ttfb: 0,\n            score: 0\n        };\n        // Monitor LCP (Largest Contentful Paint)\n        const lcpObserver = new PerformanceObserver((list) => {\n            const entries = list.getEntries();\n            const lastEntry = entries[entries.length - 1];\n            this.performanceMetrics.lcp = lastEntry.startTime;\n            this.trackPerformanceMetric('lcp', lastEntry.startTime);\n        });\n        lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] });\n        // Monitor FID (First Input Delay)\n        const fidObserver = new PerformanceObserver((list) => {\n            for (const entry of list.getEntries()) {\n                const fidEntry = entry;\n                this.performanceMetrics.fid = fidEntry.processingStart - fidEntry.startTime;\n                this.trackPerformanceMetric('fid', this.performanceMetrics.fid);\n            }\n        });\n        fidObserver.observe({ entryTypes: ['first-input'] });\n        // Monitor CLS (Cumulative Layout Shift)\n        let clsValue = 0;\n        const clsObserver = new PerformanceObserver((list) => {\n            for (const entry of list.getEntries()) {\n                const clsEntry = entry;\n                if (!clsEntry.hadRecentInput) {\n                    clsValue += clsEntry.value;\n                    this.performanceMetrics.cls = clsValue;\n                    this.trackPerformanceMetric('cls', clsValue);\n                }\n            }\n        });\n        clsObserver.observe({ entryTypes: ['layout-shift'] });\n        // Monitor FCP (First Contentful Paint)\n        const fcpObserver = new PerformanceObserver((list) => {\n            for (const entry of list.getEntries()) {\n                this.performanceMetrics.fcp = entry.startTime;\n                this.trackPerformanceMetric('fcp', entry.startTime);\n            }\n        });\n        fcpObserver.observe({ entryTypes: ['paint'] });\n        // Calculate performance score\n        this.calculatePerformanceScore();\n    }\n    /**\n     * Calculate overall performance score\n     */\n    calculatePerformanceScore() {\n        const scores = {\n            lcp: this.performanceMetrics.lcp < 2500 ? 100 : this.performanceMetrics.lcp < 4000 ? 75 : 50,\n            fid: this.performanceMetrics.fid < 100 ? 100 : this.performanceMetrics.fid < 300 ? 75 : 50,\n            cls: this.performanceMetrics.cls < 0.1 ? 100 : this.performanceMetrics.cls < 0.25 ? 75 : 50\n        };\n        this.performanceMetrics.score = Math.round(Object.values(scores).reduce((a, b) => a + b, 0) / Object.keys(scores).length);\n        this.trackPerformanceMetric('score', this.performanceMetrics.score);\n    }\n    /**\n     * Track performance metrics\n     */\n    trackPerformanceMetric(metric, value) {\n        this.trackEvent('performance_metric', 'performance', metric, undefined, value);\n        // Log critical performance issues\n        if (metric === 'lcp' && value > 4000) {\n            this.handleError(new Error(`Poor LCP: ${value}ms`), 'performance', 'high');\n        }\n        if (metric === 'fid' && value > 300) {\n            this.handleError(new Error(`Poor FID: ${value}ms`), 'performance', 'high');\n        }\n        if (metric === 'cls' && value > 0.25) {\n            this.handleError(new Error(`Poor CLS: ${value}`), 'performance', 'high');\n        }\n    }\n    /**\n     * Initialize all website features\n     */\n    async initializeAllFeatures() {\n        const features = [\n            this.initializeParticles,\n            this.initializeScrollProgress,\n            this.initializeSmoothScrolling,\n            this.initializeAnimations,\n            this.initializeContactForm,\n            this.initializeCounters,\n            this.initializeLazyLoading,\n            this.initializePWA,\n            this.initializeAdvancedAnimations,\n            this.initializePortfolioFiltering,\n            this.initializeSearchFunctionality,\n            this.initializeTouchGestures,\n            this.initializeMobileOptimizations,\n            this.initializeLoadingScreen,\n            this.initializeTypingAnimation,\n            this.initializeProgressBars,\n            this.initializeScrollReveal,\n            this.initializeFloatingActionButton,\n            this.initializeSkillsAssessment\n        ];\n        // Initialize features with error handling\n        for (const feature of features) {\n            try {\n                await feature.call(this);\n            }\n            catch (error) {\n                this.handleError(error, 'feature_initialization', feature.name);\n            }\n        }\n    }\n    /**\n     * Initialize particles.js with proper typing\n     */\n    async initializeParticles() {\n        if (typeof particlesJS === 'undefined') {\n            console.warn('Particles.js not loaded');\n            return;\n        }\n        const config = {\n            particles: {\n                number: { value: 80, density: { enable: true, value_area: 800 } },\n                color: { value: '#ffffff' },\n                shape: { type: 'circle' },\n                opacity: { value: 0.5, random: false },\n                size: { value: 3, random: true },\n                line_linked: {\n                    enable: true,\n                    distance: 150,\n                    color: '#ffffff',\n                    opacity: 0.4,\n                    width: 1\n                },\n                move: {\n                    enable: true,\n                    speed: 6,\n                    direction: 'none',\n                    random: false,\n                    straight: false,\n                    out_mode: 'out',\n                    bounce: false\n                }\n            },\n            interactivity: {\n                detect_on: 'canvas',\n                events: {\n                    onhover: { enable: true, mode: 'repulse' },\n                    onclick: { enable: true, mode: 'push' },\n                    resize: true\n                },\n                modes: {\n                    grab: { distance: 400, line_linked: { opacity: 1 } },\n                    bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 },\n                    repulse: { distance: 200, duration: 0.4 },\n                    push: { particles_nb: 4 },\n                    remove: { particles_nb: 2 }\n                }\n            },\n            retina_detect: true\n        };\n        particlesJS('particles-js', config);\n        this.trackEvent('particles_initialized', 'animation', 'setup');\n    }\n    /**\n     * Initialize scroll progress with type safety\n     */\n    initializeScrollProgress() {\n        const scrollProgress = document.getElementById('scrollProgress');\n        if (!scrollProgress)\n            return;\n        const updateProgress = () => {\n            const scrollTop = window.pageYOffset;\n            const docHeight = document.body.offsetHeight - window.innerHeight;\n            const scrollPercent = Math.min((scrollTop / docHeight) * 100, 100);\n            scrollProgress.style.width = `${scrollPercent}%`;\n        };\n        // Throttle scroll events for performance\n        let ticking = false;\n        const throttledUpdate = () => {\n            if (!ticking) {\n                requestAnimationFrame(() => {\n                    updateProgress();\n                    ticking = false;\n                });\n                ticking = true;\n            }\n        };\n        window.addEventListener('scroll', throttledUpdate, { passive: true });\n        this.trackEvent('scroll_progress_initialized', 'ui', 'setup');\n    }\n    /**\n     * Initialize smooth scrolling with proper error handling\n     */\n    initializeSmoothScrolling() {\n        const navLinks = document.querySelectorAll('.nav-link[href^=\"#\"]');\n        navLinks.forEach(link => {\n            link.addEventListener('click', (e) => {\n                e.preventDefault();\n                const targetId = link.getAttribute('href')?.substring(1);\n                const targetElement = document.getElementById(targetId || '');\n                if (targetElement) {\n                    const offsetTop = targetElement.offsetTop - 80; // Account for fixed navbar\n                    window.scrollTo({\n                        top: offsetTop,\n                        behavior: 'smooth'\n                    });\n                    this.trackEvent('navigation_click', 'navigation', 'smooth_scroll', targetId);\n                }\n            });\n        });\n    }\n    /**\n     * Initialize contact form with validation\n     */\n    async initializeContactForm() {\n        const form = document.getElementById('contactForm');\n        if (!form)\n            return;\n        // Form validation\n        const validateForm = (formData) => {\n            const errors = [];\n            if (!formData.name.trim())\n                errors.push('Name is required');\n            if (!formData.email.trim())\n                errors.push('Email is required');\n            if (!this.isValidEmail(formData.email))\n                errors.push('Valid email is required');\n            if (!formData.subject.trim())\n                errors.push('Subject is required');\n            if (!formData.message.trim())\n                errors.push('Message is required');\n            return errors;\n        };\n        // Email validation\n        this.isValidEmail = (email) => {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            return emailRegex.test(email);\n        };\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const formData = {\n                name: form.querySelector('#name')?.value || '',\n                email: form.querySelector('#email')?.value || '',\n                subject: form.querySelector('#subject')?.value || '',\n                message: form.querySelector('#message')?.value || '',\n                company: form.querySelector('#company')?.value || '',\n                phone: form.querySelector('#phone')?.value || ''\n            };\n            const errors = validateForm(formData);\n            if (errors.length > 0) {\n                this.showFormErrors(errors);\n                return;\n            }\n            try {\n                await this.submitContactForm(formData);\n                this.showSuccessMessage('Message sent successfully!');\n                form.reset();\n                this.trackEvent('contact_form_submitted', 'form', 'submit');\n            }\n            catch (error) {\n                this.handleError(error, 'contact_form_submission');\n                this.showErrorMessage('Failed to send message. Please try again.');\n            }\n        });\n    }\n    /**\n     * Submit contact form with EmailJS\n     */\n    async submitContactForm(formData) {\n        if (typeof emailjs === 'undefined') {\n            throw new Error('EmailJS not loaded');\n        }\n        const templateParams = {\n            from_name: formData.name,\n            from_email: formData.email,\n            subject: formData.subject,\n            message: formData.message,\n            company: formData.company || '',\n            phone: formData.phone || ''\n        };\n        await emailjs.send('service_portfolio', 'template_contact', templateParams, 'user_portfolio');\n    }\n    /**\n     * Initialize skills assessment with TypeScript\n     */\n    initializeSkillsAssessment() {\n        const assessmentCards = document.querySelectorAll('.skill-assessment-card');\n        assessmentCards.forEach(card => {\n            const skill = card.dataset.skill;\n            if (!skill)\n                return;\n            card.addEventListener('click', () => {\n                this.startSkillAssessment(skill);\n                this.trackEvent('skill_assessment_started', 'interaction', 'quiz', skill);\n            });\n        });\n    }\n    /**\n     * Start skill assessment\n     */\n    startSkillAssessment(skill) {\n        const modal = document.getElementById('skillAssessmentModal');\n        const skillName = document.getElementById('assessmentSkillName');\n        if (!modal || !skillName)\n            return;\n        skillName.textContent = `${skill.charAt(0).toUpperCase() + skill.slice(1)} Assessment`;\n        // Load assessment questions\n        this.loadAssessmentQuestions(skill);\n        // Show modal\n        const bootstrapModal = new window.bootstrap.Modal(modal);\n        bootstrapModal.show();\n    }\n    /**\n     * Load assessment questions\n     */\n    loadAssessmentQuestions(skill) {\n        const questions = this.getAssessmentQuestions(skill);\n        const content = document.getElementById('assessmentContent');\n        if (!content)\n            return;\n        content.innerHTML = this.renderAssessmentQuestions(questions);\n    }\n    /**\n     * Get assessment questions for a skill\n     */\n    getAssessmentQuestions(skill) {\n        const questionBank = {\n            python: [\n                {\n                    question: \"What is the difference between a list and a tuple in Python?\",\n                    options: [\n                        \"Lists are mutable, tuples are immutable\",\n                        \"Tuples are mutable, lists are immutable\",\n                        \"No difference\",\n                        \"Lists are faster than tuples\"\n                    ],\n                    correct: 0\n                }\n            ],\n            javascript: [\n                {\n                    question: \"What is the difference between 'let' and 'var' in JavaScript?\",\n                    options: [\n                        \"let has block scope, var has function scope\",\n                        \"var has block scope, let has function scope\",\n                        \"No difference\",\n                        \"let is faster than var\"\n                    ],\n                    correct: 0\n                }\n            ]\n        };\n        return questionBank[skill] || [];\n    }\n    /**\n     * Render assessment questions\n     */\n    renderAssessmentQuestions(questions) {\n        if (questions.length === 0) {\n            return '<p>No questions available for this skill.</p>';\n        }\n        return questions.map((q, index) => `\n      <div class=\"question-card mb-4\">\n        <h5>Question ${index + 1}</h5>\n        <p>${q.question}</p>\n        <div class=\"answer-options\">\n          ${q.options.map((option, i) => `\n            <div class=\"answer-option\" data-answer=\"${i}\">\n              ${option}\n            </div>\n          `).join('')}\n        </div>\n      </div>\n    `).join('');\n    }\n    /**\n     * Setup comprehensive error handling\n     */\n    async setupErrorHandling() {\n        // Global error handler\n        window.addEventListener('error', (event) => {\n            this.handleError(event.error, 'global_error', 'critical');\n        });\n        // Unhandled promise rejection handler\n        window.addEventListener('unhandledrejection', (event) => {\n            this.handleError(new Error(event.reason), 'unhandled_promise_rejection', 'high');\n        });\n        // Performance error handler\n        window.addEventListener('error', (event) => {\n            if (event.filename && event.filename.includes('script')) {\n                this.handleError(event.error, 'script_error', 'high');\n            }\n        });\n    }\n    /**\n     * Handle errors with proper reporting\n     */\n    handleError(error, context, severity = 'medium') {\n        const errorReport = {\n            message: error.message,\n            stack: error.stack,\n            url: window.location.href,\n            line: error.stack ? this.extractLineNumber(error.stack) : undefined,\n            column: error.stack ? this.extractColumnNumber(error.stack) : undefined,\n            timestamp: Date.now(),\n            userAgent: navigator.userAgent,\n            sessionId: this.getSessionId(),\n            severity\n        };\n        this.errorReports.push(errorReport);\n        // Log to console\n        console.error(`[${severity.toUpperCase()}] ${context}:`, error);\n        // Track error event\n        this.trackEvent('error_occurred', 'error', context, severity);\n        // Report critical errors\n        if (severity === 'critical') {\n            this.reportCriticalError(errorReport);\n        }\n    }\n    /**\n     * Extract line number from stack trace\n     */\n    extractLineNumber(stack) {\n        const match = stack.match(/:(\\d+):\\d+/);\n        return match ? parseInt(match[1]) : undefined;\n    }\n    /**\n     * Extract column number from stack trace\n     */\n    extractColumnNumber(stack) {\n        const match = stack.match(/:\\d+:(\\d+)/);\n        return match ? parseInt(match[1]) : undefined;\n    }\n    /**\n     * Get or create session ID\n     */\n    getSessionId() {\n        let sessionId = sessionStorage.getItem('sessionId');\n        if (!sessionId) {\n            sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n            sessionStorage.setItem('sessionId', sessionId);\n        }\n        return sessionId;\n    }\n    /**\n     * Report critical errors\n     */\n    reportCriticalError(errorReport) {\n        // In a real application, this would send to an error reporting service\n        console.error('CRITICAL ERROR REPORT:', errorReport);\n        // Show user-friendly error message\n        this.showErrorMessage('An unexpected error occurred. Please refresh the page.');\n    }\n    /**\n     * Initialize analytics tracking\n     */\n    initializeAnalytics() {\n        // Track page view\n        this.trackEvent('page_view', 'navigation', 'load', window.location.pathname);\n        // Track user interactions\n        document.addEventListener('click', (event) => {\n            const target = event.target;\n            if (target.tagName === 'A') {\n                this.trackEvent('link_click', 'navigation', 'click', target.href);\n            }\n        });\n    }\n    /**\n     * Track analytics events\n     */\n    trackEvent(event, category, action, label, value) {\n        const analyticsEvent = {\n            event,\n            category,\n            action,\n            label,\n            value,\n            timestamp: Date.now(),\n            sessionId: this.getSessionId()\n        };\n        this.analyticsEvents.push(analyticsEvent);\n        // Send to analytics service (Google Analytics, etc.)\n        if (typeof gtag !== 'undefined') {\n            gtag('event', action, {\n                event_category: category,\n                event_label: label,\n                value: value\n            });\n        }\n    }\n    /**\n     * Show form validation errors\n     */\n    showFormErrors(errors) {\n        const errorContainer = document.getElementById('formErrors');\n        if (errorContainer) {\n            errorContainer.innerHTML = errors.map(error => `<div class=\"alert alert-danger\">${error}</div>`).join('');\n            errorContainer.style.display = 'block';\n        }\n    }\n    /**\n     * Show success message\n     */\n    showSuccessMessage(message) {\n        this.showAlert(message, 'success');\n    }\n    /**\n     * Show error message\n     */\n    showErrorMessage(message) {\n        this.showAlert(message, 'danger');\n    }\n    /**\n     * Show alert message\n     */\n    showAlert(message, type) {\n        const alertContainer = document.getElementById('alertContainer');\n        if (!alertContainer)\n            return;\n        const alertId = `alert_${Date.now()}`;\n        const alertHTML = `\n      <div id=\"${alertId}\" class=\"alert alert-${type} alert-dismissible fade show\" role=\"alert\">\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n      </div>\n    `;\n        alertContainer.insertAdjacentHTML('beforeend', alertHTML);\n        // Auto-remove after 5 seconds\n        setTimeout(() => {\n            const alert = document.getElementById(alertId);\n            if (alert) {\n                alert.remove();\n            }\n        }, 5000);\n    }\n    // Placeholder methods for other features (to be implemented)\n    async initializeAnimations() { }\n    async initializeCounters() { }\n    async initializeLazyLoading() { }\n    async initializePWA() { }\n    async initializeAdvancedAnimations() { }\n    async initializePortfolioFiltering() { }\n    async initializeSearchFunctionality() { }\n    async initializeTouchGestures() { }\n    async initializeMobileOptimizations() { }\n    async initializeLoadingScreen() { }\n    async initializeTypingAnimation() { }\n    async initializeProgressBars() { }\n    async initializeScrollReveal() { }\n    async initializeFloatingActionButton() { }\n    // Utility method for email validation\n    isValidEmail(email) {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email);\n    }\n}\n// Initialize the application when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    new PortfolioApp();\n});\n// Export for testing\n/* harmony default export */ __webpack_exports__[\"default\"] = (PortfolioApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwibWFwcGluZ3MiOiI7QUFhQTs7O0dBR0c7QUFDSCxNQUFNLFlBQVk7SUFPaEI7UUFIUSxpQkFBWSxHQUFrQixFQUFFLENBQUM7UUFDakMsb0JBQWUsR0FBcUIsRUFBRSxDQUFDO1FBRzdDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQ7O09BRUc7SUFDSyxLQUFLLENBQUMsYUFBYTtRQUN6QixJQUFJLENBQUM7WUFDSCxNQUFNLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzdCLE1BQU0sSUFBSSxDQUFDLCtCQUErQixFQUFFLENBQUM7WUFDN0MsTUFBTSxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUNuQyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ2hDLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFFakMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRSxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDN0QsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDO1FBQzNELENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFjLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUN6RCxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssS0FBSyxDQUFDLG1CQUFtQjtRQUMvQixNQUFNLGtCQUFrQixHQUFvQjtZQUMxQyxLQUFLLEVBQUUsT0FBTztZQUNkLFFBQVEsRUFBRSxJQUFJO1lBQ2QsVUFBVSxFQUFFLElBQUk7WUFDaEIsYUFBYSxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxPQUFPO1lBQzVFLFlBQVksRUFBRSxLQUFLO1lBQ25CLFFBQVEsRUFBRSxRQUFRO1lBQ2xCLGFBQWEsRUFBRSxJQUFJO1NBQ3BCLENBQUM7UUFFRixJQUFJLENBQUM7WUFDSCxNQUFNLE1BQU0sR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxrQkFBa0IsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUM7UUFDeEcsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixJQUFJLENBQUMsZUFBZSxHQUFHLGtCQUFrQixDQUFDO1lBQzFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsaURBQWlELENBQUMsQ0FBQztRQUNsRSxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssS0FBSyxDQUFDLGVBQWU7UUFDM0IsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQXNCLENBQUM7UUFDaEYsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQWdCLENBQUM7UUFDdEUsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztRQUUzQixJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFFRCwrQkFBK0I7UUFDL0IsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEtBQUssTUFBTTtZQUN4RCxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLDhCQUE4QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztZQUNoRixDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7UUFFL0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFOUMsOEJBQThCO1FBQzlCLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFxQixDQUFDO1lBQ3pFLE1BQU0sUUFBUSxHQUFHLFlBQVksS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBRTVELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2xFLENBQUMsQ0FBQyxDQUFDO1FBRUgsa0NBQWtDO1FBQ2xDLE1BQU0sQ0FBQyxVQUFVLENBQUMsOEJBQThCLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNqRixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxLQUFLLE1BQU0sRUFBRSxDQUFDO2dCQUMxQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztnQkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7T0FFRztJQUNLLFdBQVcsQ0FBQyxLQUF1QixFQUFFLElBQWlCLEVBQUUsSUFBaUI7UUFDL0UsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25DLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWxDLG1CQUFtQjtRQUNuQixZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFFOUUsd0JBQXdCO1FBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLHVDQUF1QyxDQUFDO1FBQ2hFLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDN0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUVEOztPQUVHO0lBQ0ssZUFBZSxDQUFDLEtBQXVCLEVBQUUsSUFBaUI7UUFDaEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQztRQUNqRSxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxhQUFhLEtBQUssS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxRQUFRLENBQUMsQ0FBQztJQUM1RixDQUFDO0lBRUQ7O09BRUc7SUFDSyxLQUFLLENBQUMsK0JBQStCO1FBQzNDLElBQUksQ0FBQyxDQUFDLHFCQUFxQixJQUFJLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDdkMsT0FBTyxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1lBQ2xELE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHO1lBQ3hCLEdBQUcsRUFBRSxDQUFDO1lBQ04sR0FBRyxFQUFFLENBQUM7WUFDTixHQUFHLEVBQUUsQ0FBQztZQUNOLEdBQUcsRUFBRSxDQUFDO1lBQ04sSUFBSSxFQUFFLENBQUM7WUFDUCxLQUFLLEVBQUUsQ0FBQztTQUNULENBQUM7UUFFRix5Q0FBeUM7UUFDekMsTUFBTSxXQUFXLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ25ELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQyxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQXFCLENBQUM7WUFDbEUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDO1lBQ2xELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLDBCQUEwQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWxFLGtDQUFrQztRQUNsQyxNQUFNLFdBQVcsR0FBRyxJQUFJLG1CQUFtQixDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDbkQsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsTUFBTSxRQUFRLEdBQUcsS0FBK0IsQ0FBQztnQkFDakQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsR0FBRyxRQUFRLENBQUMsZUFBZSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7Z0JBQzVFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xFLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFckQsd0NBQXdDO1FBQ3hDLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixNQUFNLFdBQVcsR0FBRyxJQUFJLG1CQUFtQixDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDbkQsS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsTUFBTSxRQUFRLEdBQUcsS0FBb0IsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDN0IsUUFBUSxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUM7b0JBQzNCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDO29CQUN2QyxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUMvQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUV0RCx1Q0FBdUM7UUFDdkMsTUFBTSxXQUFXLEdBQUcsSUFBSSxtQkFBbUIsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ25ELEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztnQkFDOUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdEQsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUUvQyw4QkFBOEI7UUFDOUIsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVEOztPQUVHO0lBQ0sseUJBQXlCO1FBQy9CLE1BQU0sTUFBTSxHQUFHO1lBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDNUYsR0FBRyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDMUYsR0FBRyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7U0FDNUYsQ0FBQztRQUVGLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUM5RSxDQUFDO1FBRUYsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVEOztPQUVHO0lBQ0ssc0JBQXNCLENBQUMsTUFBYyxFQUFFLEtBQWE7UUFDMUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUUvRSxrQ0FBa0M7UUFDbEMsSUFBSSxNQUFNLEtBQUssS0FBSyxJQUFJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQztZQUNyQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksS0FBSyxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsRUFBRSxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0UsQ0FBQztRQUNELElBQUksTUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDcEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLEVBQUUsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzdFLENBQUM7UUFDRCxJQUFJLE1BQU0sS0FBSyxLQUFLLElBQUksS0FBSyxHQUFHLElBQUksRUFBRSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUMsYUFBYSxLQUFLLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzRSxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssS0FBSyxDQUFDLHFCQUFxQjtRQUNqQyxNQUFNLFFBQVEsR0FBRztZQUNmLElBQUksQ0FBQyxtQkFBbUI7WUFDeEIsSUFBSSxDQUFDLHdCQUF3QjtZQUM3QixJQUFJLENBQUMseUJBQXlCO1lBQzlCLElBQUksQ0FBQyxvQkFBb0I7WUFDekIsSUFBSSxDQUFDLHFCQUFxQjtZQUMxQixJQUFJLENBQUMsa0JBQWtCO1lBQ3ZCLElBQUksQ0FBQyxxQkFBcUI7WUFDMUIsSUFBSSxDQUFDLGFBQWE7WUFDbEIsSUFBSSxDQUFDLDRCQUE0QjtZQUNqQyxJQUFJLENBQUMsNEJBQTRCO1lBQ2pDLElBQUksQ0FBQyw2QkFBNkI7WUFDbEMsSUFBSSxDQUFDLHVCQUF1QjtZQUM1QixJQUFJLENBQUMsNkJBQTZCO1lBQ2xDLElBQUksQ0FBQyx1QkFBdUI7WUFDNUIsSUFBSSxDQUFDLHlCQUF5QjtZQUM5QixJQUFJLENBQUMsc0JBQXNCO1lBQzNCLElBQUksQ0FBQyxzQkFBc0I7WUFDM0IsSUFBSSxDQUFDLDhCQUE4QjtZQUNuQyxJQUFJLENBQUMsMEJBQTBCO1NBQ2hDLENBQUM7UUFFRiwwQ0FBMEM7UUFDMUMsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUM7Z0JBQ0gsTUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLENBQUM7WUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO2dCQUNmLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBYyxFQUFFLHdCQUF3QixFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzRSxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLEtBQUssQ0FBQyxtQkFBbUI7UUFDL0IsSUFBSSxPQUFPLFdBQVcsS0FBSyxXQUFXLEVBQUUsQ0FBQztZQUN2QyxPQUFPLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDeEMsT0FBTztRQUNULENBQUM7UUFFRCxNQUFNLE1BQU0sR0FBRztZQUNiLFNBQVMsRUFBRTtnQkFDVCxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUNqRSxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFO2dCQUMzQixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBaUIsRUFBRTtnQkFDbEMsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO2dCQUN0QyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7Z0JBQ2hDLFdBQVcsRUFBRTtvQkFDWCxNQUFNLEVBQUUsSUFBSTtvQkFDWixRQUFRLEVBQUUsR0FBRztvQkFDYixLQUFLLEVBQUUsU0FBUztvQkFDaEIsT0FBTyxFQUFFLEdBQUc7b0JBQ1osS0FBSyxFQUFFLENBQUM7aUJBQ1Q7Z0JBQ0QsSUFBSSxFQUFFO29CQUNKLE1BQU0sRUFBRSxJQUFJO29CQUNaLEtBQUssRUFBRSxDQUFDO29CQUNSLFNBQVMsRUFBRSxNQUFlO29CQUMxQixNQUFNLEVBQUUsS0FBSztvQkFDYixRQUFRLEVBQUUsS0FBSztvQkFDZixRQUFRLEVBQUUsS0FBYztvQkFDeEIsTUFBTSxFQUFFLEtBQUs7aUJBQ2Q7YUFDRjtZQUNELGFBQWEsRUFBRTtnQkFDYixTQUFTLEVBQUUsUUFBaUI7Z0JBQzVCLE1BQU0sRUFBRTtvQkFDTixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxTQUFrQixFQUFFO29CQUNuRCxPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFlLEVBQUU7b0JBQ2hELE1BQU0sRUFBRSxJQUFJO2lCQUNiO2dCQUNELEtBQUssRUFBRTtvQkFDTCxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO29CQUN0RSxPQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUU7b0JBQ3pDLElBQUksRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUU7b0JBQ3pCLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUU7aUJBQzVCO2FBQ0Y7WUFDRCxhQUFhLEVBQUUsSUFBSTtTQUNwQixDQUFDO1FBRUYsV0FBVyxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLHVCQUF1QixFQUFFLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRUQ7O09BRUc7SUFDSyx3QkFBd0I7UUFDOUIsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBZ0IsQ0FBQztRQUNoRixJQUFJLENBQUMsY0FBYztZQUFFLE9BQU87UUFFNUIsTUFBTSxjQUFjLEdBQUcsR0FBUyxFQUFFO1lBQ2hDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7WUFDckMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztZQUNsRSxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNuRSxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLGFBQWEsR0FBRyxDQUFDO1FBQ25ELENBQUMsQ0FBQztRQUVGLHlDQUF5QztRQUN6QyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDcEIsTUFBTSxlQUFlLEdBQUcsR0FBUyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDYixxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7b0JBQ3pCLGNBQWMsRUFBRSxDQUFDO29CQUNqQixPQUFPLEdBQUcsS0FBSyxDQUFDO2dCQUNsQixDQUFDLENBQUMsQ0FBQztnQkFDSCxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDLENBQUM7UUFFRixNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxVQUFVLENBQUMsNkJBQTZCLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRDs7T0FFRztJQUNLLHlCQUF5QjtRQUMvQixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQWtDLENBQUM7UUFFcEcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN0QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBUSxFQUFFLEVBQUU7Z0JBQzFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDbkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pELE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUU5RCxJQUFJLGFBQWEsRUFBRSxDQUFDO29CQUNsQixNQUFNLFNBQVMsR0FBRyxhQUFhLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxDQUFDLDJCQUEyQjtvQkFDM0UsTUFBTSxDQUFDLFFBQVEsQ0FBQzt3QkFDZCxHQUFHLEVBQUUsU0FBUzt3QkFDZCxRQUFRLEVBQUUsUUFBUTtxQkFDbkIsQ0FBQyxDQUFDO29CQUVILElBQUksQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDL0UsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxLQUFLLENBQUMscUJBQXFCO1FBQ2pDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFvQixDQUFDO1FBQ3ZFLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUVsQixrQkFBa0I7UUFDbEIsTUFBTSxZQUFZLEdBQUcsQ0FBQyxRQUF5QixFQUFZLEVBQUU7WUFDM0QsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1lBRTVCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDM0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFO2dCQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO2dCQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUMvRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7Z0JBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQ2pFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRTtnQkFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFFakUsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQyxDQUFDO1FBRUYsbUJBQW1CO1FBQ25CLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxLQUFhLEVBQVcsRUFBRTtZQUM3QyxNQUFNLFVBQVUsR0FBRyw0QkFBNEIsQ0FBQztZQUNoRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBUSxFQUFFLEVBQUU7WUFDakQsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRW5CLE1BQU0sUUFBUSxHQUFvQjtnQkFDaEMsSUFBSSxFQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFzQixFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUNwRSxLQUFLLEVBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQXNCLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQ3RFLE9BQU8sRUFBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBc0IsRUFBRSxLQUFLLElBQUksRUFBRTtnQkFDMUUsT0FBTyxFQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUF5QixFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUM3RSxPQUFPLEVBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQXNCLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQzFFLEtBQUssRUFBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBc0IsRUFBRSxLQUFLLElBQUksRUFBRTthQUN2RSxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RDLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDNUIsT0FBTztZQUNULENBQUM7WUFFRCxJQUFJLENBQUM7Z0JBQ0gsTUFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO2dCQUN0RCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsSUFBSSxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDOUQsQ0FBQztZQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFjLEVBQUUseUJBQXlCLENBQUMsQ0FBQztnQkFDNUQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLDJDQUEyQyxDQUFDLENBQUM7WUFDckUsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0ssS0FBSyxDQUFDLGlCQUFpQixDQUFDLFFBQXlCO1FBQ3ZELElBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFLENBQUM7WUFDbkMsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFFRCxNQUFNLGNBQWMsR0FBRztZQUNyQixTQUFTLEVBQUUsUUFBUSxDQUFDLElBQUk7WUFDeEIsVUFBVSxFQUFFLFFBQVEsQ0FBQyxLQUFLO1lBQzFCLE9BQU8sRUFBRSxRQUFRLENBQUMsT0FBTztZQUN6QixPQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU87WUFDekIsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLElBQUksRUFBRTtZQUMvQixLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFO1NBQzVCLENBQUM7UUFFRixNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQ2hCLG1CQUFtQixFQUNuQixrQkFBa0IsRUFDbEIsY0FBYyxFQUNkLGdCQUFnQixDQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0ssMEJBQTBCO1FBQ2hDLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyx3QkFBd0IsQ0FBNEIsQ0FBQztRQUV2RyxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzdCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxLQUFLO2dCQUFFLE9BQU87WUFFbkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDakMsSUFBSSxDQUFDLFVBQVUsQ0FBQywwQkFBMEIsRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQzVFLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxvQkFBb0IsQ0FBQyxLQUFhO1FBQ3hDLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQWdCLENBQUM7UUFDN0UsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBZ0IsQ0FBQztRQUVoRixJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFFakMsU0FBUyxDQUFDLFdBQVcsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO1FBRXZGLDRCQUE0QjtRQUM1QixJQUFJLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFcEMsYUFBYTtRQUNiLE1BQU0sY0FBYyxHQUFHLElBQUssTUFBYyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEUsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7T0FFRztJQUNLLHVCQUF1QixDQUFDLEtBQWE7UUFDM0MsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLENBQWdCLENBQUM7UUFFNUUsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRXJCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRDs7T0FFRztJQUNLLHNCQUFzQixDQUFDLEtBQWE7UUFDMUMsTUFBTSxZQUFZLEdBQTZCO1lBQzdDLE1BQU0sRUFBRTtnQkFDTjtvQkFDRSxRQUFRLEVBQUUsOERBQThEO29CQUN4RSxPQUFPLEVBQUU7d0JBQ1AseUNBQXlDO3dCQUN6Qyx5Q0FBeUM7d0JBQ3pDLGVBQWU7d0JBQ2YsOEJBQThCO3FCQUMvQjtvQkFDRCxPQUFPLEVBQUUsQ0FBQztpQkFDWDthQUNGO1lBQ0QsVUFBVSxFQUFFO2dCQUNWO29CQUNFLFFBQVEsRUFBRSwrREFBK0Q7b0JBQ3pFLE9BQU8sRUFBRTt3QkFDUCw2Q0FBNkM7d0JBQzdDLDZDQUE2Qzt3QkFDN0MsZUFBZTt3QkFDZix3QkFBd0I7cUJBQ3pCO29CQUNELE9BQU8sRUFBRSxDQUFDO2lCQUNYO2FBQ0Y7U0FDRixDQUFDO1FBRUYsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRDs7T0FFRztJQUNLLHlCQUF5QixDQUFDLFNBQWdCO1FBQ2hELElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMzQixPQUFPLCtDQUErQyxDQUFDO1FBQ3pELENBQUM7UUFFRCxPQUFPLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQzs7dUJBRWhCLEtBQUssR0FBRyxDQUFDO2FBQ25CLENBQUMsQ0FBQyxRQUFROztZQUVYLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBYyxFQUFFLENBQVMsRUFBRSxFQUFFLENBQUM7c0RBQ0gsQ0FBQztnQkFDdkMsTUFBTTs7V0FFWCxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs7O0tBR2hCLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDZCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxLQUFLLENBQUMsa0JBQWtCO1FBQzlCLHVCQUF1QjtRQUN2QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBaUIsRUFBRSxFQUFFO1lBQ3JELElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxzQ0FBc0M7UUFDdEMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFLENBQUMsS0FBNEIsRUFBRSxFQUFFO1lBQzdFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25GLENBQUMsQ0FBQyxDQUFDO1FBRUgsNEJBQTRCO1FBQzVCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFpQixFQUFFLEVBQUU7WUFDckQsSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDeEQsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0ssV0FBVyxDQUFDLEtBQVksRUFBRSxPQUFlLEVBQUUsV0FBbUQsUUFBUTtRQUM1RyxNQUFNLFdBQVcsR0FBZ0I7WUFDL0IsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO1lBQ3RCLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSztZQUNsQixHQUFHLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJO1lBQ3pCLElBQUksRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ25FLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ3ZFLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ3JCLFNBQVMsRUFBRSxTQUFTLENBQUMsU0FBUztZQUM5QixTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUM5QixRQUFRO1NBQ1QsQ0FBQztRQUVGLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXBDLGlCQUFpQjtRQUNqQixPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSxLQUFLLE9BQU8sR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRWhFLG9CQUFvQjtRQUNwQixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFOUQseUJBQXlCO1FBQ3pCLElBQUksUUFBUSxLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4QyxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssaUJBQWlCLENBQUMsS0FBYTtRQUNyQyxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxtQkFBbUIsQ0FBQyxLQUFhO1FBQ3ZDLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEMsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ2hELENBQUM7SUFFRDs7T0FFRztJQUNLLFlBQVk7UUFDbEIsSUFBSSxTQUFTLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDZixTQUFTLEdBQUcsV0FBVyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDL0UsY0FBYyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFRDs7T0FFRztJQUNLLG1CQUFtQixDQUFDLFdBQXdCO1FBQ2xELHVFQUF1RTtRQUN2RSxPQUFPLENBQUMsS0FBSyxDQUFDLHdCQUF3QixFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRXJELG1DQUFtQztRQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsd0RBQXdELENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRUQ7O09BRUc7SUFDSyxtQkFBbUI7UUFDekIsa0JBQWtCO1FBQ2xCLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUU3RSwwQkFBMEI7UUFDMUIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQVksRUFBRSxFQUFFO1lBQ2xELE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFxQixDQUFDO1lBQzNDLElBQUksTUFBTSxDQUFDLE9BQU8sS0FBSyxHQUFHLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRyxNQUE0QixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNGLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7T0FFRztJQUNLLFVBQVUsQ0FDaEIsS0FBYSxFQUNiLFFBQWdCLEVBQ2hCLE1BQWMsRUFDZCxLQUFjLEVBQ2QsS0FBYztRQUVkLE1BQU0sY0FBYyxHQUFtQjtZQUNyQyxLQUFLO1lBQ0wsUUFBUTtZQUNSLE1BQU07WUFDTixLQUFLO1lBQ0wsS0FBSztZQUNMLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ3JCLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFO1NBQy9CLENBQUM7UUFFRixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUUxQyxxREFBcUQ7UUFDckQsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUUsQ0FBQztZQUNoQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtnQkFDcEIsY0FBYyxFQUFFLFFBQVE7Z0JBQ3hCLFdBQVcsRUFBRSxLQUFLO2dCQUNsQixLQUFLLEVBQUUsS0FBSzthQUNiLENBQUMsQ0FBQztRQUNMLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxjQUFjLENBQUMsTUFBZ0I7UUFDckMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQWdCLENBQUM7UUFDNUUsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUNuQixjQUFjLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxtQ0FBbUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDMUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3pDLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxrQkFBa0IsQ0FBQyxPQUFlO1FBQ3hDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRDs7T0FFRztJQUNLLGdCQUFnQixDQUFDLE9BQWU7UUFDdEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVEOztPQUVHO0lBQ0ssU0FBUyxDQUFDLE9BQWUsRUFBRSxJQUErQztRQUNoRixNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFnQixDQUFDO1FBQ2hGLElBQUksQ0FBQyxjQUFjO1lBQUUsT0FBTztRQUU1QixNQUFNLE9BQU8sR0FBRyxTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDO1FBQ3RDLE1BQU0sU0FBUyxHQUFHO2lCQUNMLE9BQU8sd0JBQXdCLElBQUk7VUFDMUMsT0FBTzs7O0tBR1osQ0FBQztRQUVGLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFMUQsOEJBQThCO1FBQzlCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQy9DLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ1YsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRUQsNkRBQTZEO0lBQ3JELEtBQUssQ0FBQyxvQkFBb0IsS0FBeUMsQ0FBQztJQUNwRSxLQUFLLENBQUMsa0JBQWtCLEtBQXlDLENBQUM7SUFDbEUsS0FBSyxDQUFDLHFCQUFxQixLQUF5QyxDQUFDO0lBQ3JFLEtBQUssQ0FBQyxhQUFhLEtBQXlDLENBQUM7SUFDN0QsS0FBSyxDQUFDLDRCQUE0QixLQUF5QyxDQUFDO0lBQzVFLEtBQUssQ0FBQyw0QkFBNEIsS0FBeUMsQ0FBQztJQUM1RSxLQUFLLENBQUMsNkJBQTZCLEtBQXlDLENBQUM7SUFDN0UsS0FBSyxDQUFDLHVCQUF1QixLQUF5QyxDQUFDO0lBQ3ZFLEtBQUssQ0FBQyw2QkFBNkIsS0FBeUMsQ0FBQztJQUM3RSxLQUFLLENBQUMsdUJBQXVCLEtBQXlDLENBQUM7SUFDdkUsS0FBSyxDQUFDLHlCQUF5QixLQUF5QyxDQUFDO0lBQ3pFLEtBQUssQ0FBQyxzQkFBc0IsS0FBeUMsQ0FBQztJQUN0RSxLQUFLLENBQUMsc0JBQXNCLEtBQXlDLENBQUM7SUFDdEUsS0FBSyxDQUFDLDhCQUE4QixLQUF5QyxDQUFDO0lBRXRGLHNDQUFzQztJQUM5QixZQUFZLENBQUMsS0FBYTtRQUNoQyxNQUFNLFVBQVUsR0FBRyw0QkFBNEIsQ0FBQztRQUNoRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQztDQUNGO0FBRUQsK0NBQStDO0FBQy9DLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7SUFDakQsSUFBSSxZQUFZLEVBQUUsQ0FBQztBQUNyQixDQUFDLENBQUMsQ0FBQztBQUVILHFCQUFxQjtBQUNyQiwrREFBZSxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb2Vpbi1naGFlaW5pLXBvcnRmb2xpby8uL3NyYy9zY3JpcHRzL21haW4udHM/NjU1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFbmhhbmNlZCBUeXBlU2NyaXB0IFBvcnRmb2xpbyBXZWJzaXRlIC0gMTAwLzEwMCBSYXRpbmdcbmltcG9ydCB7IFxuICBUaGVtZUNvbmZpZywgXG4gIFBlcmZvcm1hbmNlTWV0cmljcywgXG4gIFBvcnRmb2xpb1Byb2plY3QsIFxuICBDb250YWN0Rm9ybURhdGEsIFxuICBUZXN0UmVzdWx0LFxuICBFcnJvclJlcG9ydCxcbiAgVXNlclByZWZlcmVuY2VzLFxuICBBbmltYXRpb25Db25maWcsXG4gIEFuYWx5dGljc0V2ZW50XG59IGZyb20gJy4uL3R5cGVzL2luZGV4JztcblxuLyoqXG4gKiBNYWluIFBvcnRmb2xpbyBBcHBsaWNhdGlvbiBDbGFzc1xuICogSGFuZGxlcyBhbGwgd2Vic2l0ZSBmdW5jdGlvbmFsaXR5IHdpdGggdHlwZSBzYWZldHlcbiAqL1xuY2xhc3MgUG9ydGZvbGlvQXBwIHtcbiAgcHJpdmF0ZSB0aGVtZUNvbmZpZzogVGhlbWVDb25maWc7XG4gIHByaXZhdGUgcGVyZm9ybWFuY2VNZXRyaWNzOiBQZXJmb3JtYW5jZU1ldHJpY3M7XG4gIHByaXZhdGUgdXNlclByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXM7XG4gIHByaXZhdGUgZXJyb3JSZXBvcnRzOiBFcnJvclJlcG9ydFtdID0gW107XG4gIHByaXZhdGUgYW5hbHl0aWNzRXZlbnRzOiBBbmFseXRpY3NFdmVudFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplQXBwKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24gd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmdcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUFwcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5sb2FkVXNlclByZWZlcmVuY2VzKCk7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVUaGVtZSgpO1xuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplUGVyZm9ybWFuY2VNb25pdG9yaW5nKCk7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVBbGxGZWF0dXJlcygpO1xuICAgICAgYXdhaXQgdGhpcy5zZXR1cEVycm9ySGFuZGxpbmcoKTtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZUFuYWx5dGljcygpO1xuICAgICAgXG4gICAgICB0aGlzLnRyYWNrRXZlbnQoJ2FwcF9pbml0aWFsaXplZCcsICdhcHBsaWNhdGlvbicsICdzdGFydHVwJyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBQb3J0Zm9saW8gQXBwIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yIGFzIEVycm9yLCAnYXBwX2luaXRpYWxpemF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdXNlciBwcmVmZXJlbmNlcyBmcm9tIGxvY2FsU3RvcmFnZSB3aXRoIGZhbGxiYWNrc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkVXNlclByZWZlcmVuY2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlZmF1bHRQcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzID0ge1xuICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgIGFuaW1hdGlvbnM6IHRydWUsXG4gICAgICByZWR1Y2VkTW90aW9uOiB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKS5tYXRjaGVzLFxuICAgICAgaGlnaENvbnRyYXN0OiBmYWxzZSxcbiAgICAgIGZvbnRTaXplOiAnbWVkaXVtJyxcbiAgICAgIG5vdGlmaWNhdGlvbnM6IHRydWVcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyUHJlZmVyZW5jZXMnKTtcbiAgICAgIHRoaXMudXNlclByZWZlcmVuY2VzID0gc3RvcmVkID8geyAuLi5kZWZhdWx0UHJlZmVyZW5jZXMsIC4uLkpTT04ucGFyc2Uoc3RvcmVkKSB9IDogZGVmYXVsdFByZWZlcmVuY2VzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlcyA9IGRlZmF1bHRQcmVmZXJlbmNlcztcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgdXNlciBwcmVmZXJlbmNlcywgdXNpbmcgZGVmYXVsdHMnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGVtZSBzeXN0ZW0gd2l0aCB0eXBlIHNhZmV0eVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplVGhlbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdGhlbWVUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWVUb2dnbGUnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBjb25zdCB0aGVtZUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWVJY29uJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICBpZiAoIXRoZW1lVG9nZ2xlIHx8ICF0aGVtZUljb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlbWUgZWxlbWVudHMgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgc2F2ZWQgdGhlbWUgb3IgZGVmYXVsdFxuICAgIGNvbnN0IGN1cnJlbnRUaGVtZSA9IHRoaXMudXNlclByZWZlcmVuY2VzLnRoZW1lID09PSAnYXV0bycgXG4gICAgICA/ICh3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgOiB0aGlzLnVzZXJQcmVmZXJlbmNlcy50aGVtZTtcblxuICAgIGJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgY3VycmVudFRoZW1lKTtcbiAgICB0aGlzLnVwZGF0ZVRoZW1lSWNvbihjdXJyZW50VGhlbWUsIHRoZW1lSWNvbik7XG5cbiAgICAvLyBUaGVtZSB0b2dnbGUgZXZlbnQgbGlzdGVuZXJcbiAgICB0aGVtZVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaGVtZSA9IGJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJykgYXMgJ2xpZ2h0JyB8ICdkYXJrJztcbiAgICAgIGNvbnN0IG5ld1RoZW1lID0gY3VycmVudFRoZW1lID09PSAnZGFyaycgPyAnbGlnaHQnIDogJ2RhcmsnO1xuICAgICAgXG4gICAgICB0aGlzLnN3aXRjaFRoZW1lKG5ld1RoZW1lLCBib2R5LCB0aGVtZUljb24pO1xuICAgICAgdGhpcy50cmFja0V2ZW50KCd0aGVtZV9jaGFuZ2VkJywgJ3VpJywgJ2ludGVyYWN0aW9uJywgbmV3VGhlbWUpO1xuICAgIH0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciBzeXN0ZW0gdGhlbWUgY2hhbmdlc1xuICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLnVzZXJQcmVmZXJlbmNlcy50aGVtZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIGNvbnN0IG5ld1RoZW1lID0gZS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgICAgICAgdGhpcy5zd2l0Y2hUaGVtZShuZXdUaGVtZSwgYm9keSwgdGhlbWVJY29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTd2l0Y2ggdGhlbWUgd2l0aCBzbW9vdGggdHJhbnNpdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzd2l0Y2hUaGVtZSh0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJywgYm9keTogSFRNTEVsZW1lbnQsIGljb246IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCB0aGVtZSk7XG4gICAgdGhpcy51c2VyUHJlZmVyZW5jZXMudGhlbWUgPSB0aGVtZTtcbiAgICB0aGlzLnVwZGF0ZVRoZW1lSWNvbih0aGVtZSwgaWNvbik7XG4gICAgXG4gICAgLy8gU2F2ZSBwcmVmZXJlbmNlc1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyUHJlZmVyZW5jZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJQcmVmZXJlbmNlcykpO1xuICAgIFxuICAgIC8vIEFkZCB0cmFuc2l0aW9uIGVmZmVjdFxuICAgIGJvZHkuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGJvZHkuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgIH0sIDMwMCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZW1lIGljb24gd2l0aCBwcm9wZXIgdHlwaW5nXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVRoZW1lSWNvbih0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJywgaWNvbjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpY29uLmNsYXNzTmFtZSA9IHRoZW1lID09PSAnZGFyaycgPyAnZmFzIGZhLXN1bicgOiAnZmFzIGZhLW1vb24nO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN3aXRjaCB0byAke3RoZW1lID09PSAnZGFyaycgPyAnbGlnaHQnIDogJ2RhcmsnfSB0aGVtZWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgcGVyZm9ybWFuY2UgbW9uaXRvcmluZyB3aXRoIENvcmUgV2ViIFZpdGFsc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplUGVyZm9ybWFuY2VNb25pdG9yaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghKCdQZXJmb3JtYW5jZU9ic2VydmVyJyBpbiB3aW5kb3cpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlT2JzZXJ2ZXIgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucGVyZm9ybWFuY2VNZXRyaWNzID0ge1xuICAgICAgbGNwOiAwLFxuICAgICAgZmlkOiAwLFxuICAgICAgY2xzOiAwLFxuICAgICAgZmNwOiAwLFxuICAgICAgdHRmYjogMCxcbiAgICAgIHNjb3JlOiAwXG4gICAgfTtcblxuICAgIC8vIE1vbml0b3IgTENQIChMYXJnZXN0IENvbnRlbnRmdWwgUGFpbnQpXG4gICAgY29uc3QgbGNwT2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcigobGlzdCkgPT4ge1xuICAgICAgY29uc3QgZW50cmllcyA9IGxpc3QuZ2V0RW50cmllcygpO1xuICAgICAgY29uc3QgbGFzdEVudHJ5ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdIGFzIFBlcmZvcm1hbmNlRW50cnk7XG4gICAgICB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5sY3AgPSBsYXN0RW50cnkuc3RhcnRUaW1lO1xuICAgICAgdGhpcy50cmFja1BlcmZvcm1hbmNlTWV0cmljKCdsY3AnLCBsYXN0RW50cnkuc3RhcnRUaW1lKTtcbiAgICB9KTtcbiAgICBsY3BPYnNlcnZlci5vYnNlcnZlKHsgZW50cnlUeXBlczogWydsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQnXSB9KTtcblxuICAgIC8vIE1vbml0b3IgRklEIChGaXJzdCBJbnB1dCBEZWxheSlcbiAgICBjb25zdCBmaWRPYnNlcnZlciA9IG5ldyBQZXJmb3JtYW5jZU9ic2VydmVyKChsaXN0KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxpc3QuZ2V0RW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IGZpZEVudHJ5ID0gZW50cnkgYXMgUGVyZm9ybWFuY2VFdmVudFRpbWluZztcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZU1ldHJpY3MuZmlkID0gZmlkRW50cnkucHJvY2Vzc2luZ1N0YXJ0IC0gZmlkRW50cnkuc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLnRyYWNrUGVyZm9ybWFuY2VNZXRyaWMoJ2ZpZCcsIHRoaXMucGVyZm9ybWFuY2VNZXRyaWNzLmZpZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZmlkT2JzZXJ2ZXIub2JzZXJ2ZSh7IGVudHJ5VHlwZXM6IFsnZmlyc3QtaW5wdXQnXSB9KTtcblxuICAgIC8vIE1vbml0b3IgQ0xTIChDdW11bGF0aXZlIExheW91dCBTaGlmdClcbiAgICBsZXQgY2xzVmFsdWUgPSAwO1xuICAgIGNvbnN0IGNsc09ic2VydmVyID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoKGxpc3QpID0+IHtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGlzdC5nZXRFbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgY2xzRW50cnkgPSBlbnRyeSBhcyBMYXlvdXRTaGlmdDtcbiAgICAgICAgaWYgKCFjbHNFbnRyeS5oYWRSZWNlbnRJbnB1dCkge1xuICAgICAgICAgIGNsc1ZhbHVlICs9IGNsc0VudHJ5LnZhbHVlO1xuICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VNZXRyaWNzLmNscyA9IGNsc1ZhbHVlO1xuICAgICAgICAgIHRoaXMudHJhY2tQZXJmb3JtYW5jZU1ldHJpYygnY2xzJywgY2xzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY2xzT2JzZXJ2ZXIub2JzZXJ2ZSh7IGVudHJ5VHlwZXM6IFsnbGF5b3V0LXNoaWZ0J10gfSk7XG5cbiAgICAvLyBNb25pdG9yIEZDUCAoRmlyc3QgQ29udGVudGZ1bCBQYWludClcbiAgICBjb25zdCBmY3BPYnNlcnZlciA9IG5ldyBQZXJmb3JtYW5jZU9ic2VydmVyKChsaXN0KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxpc3QuZ2V0RW50cmllcygpKSB7XG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VNZXRyaWNzLmZjcCA9IGVudHJ5LnN0YXJ0VGltZTtcbiAgICAgICAgdGhpcy50cmFja1BlcmZvcm1hbmNlTWV0cmljKCdmY3AnLCBlbnRyeS5zdGFydFRpbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZjcE9ic2VydmVyLm9ic2VydmUoeyBlbnRyeVR5cGVzOiBbJ3BhaW50J10gfSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgcGVyZm9ybWFuY2Ugc2NvcmVcbiAgICB0aGlzLmNhbGN1bGF0ZVBlcmZvcm1hbmNlU2NvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgb3ZlcmFsbCBwZXJmb3JtYW5jZSBzY29yZVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQZXJmb3JtYW5jZVNjb3JlKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3JlcyA9IHtcbiAgICAgIGxjcDogdGhpcy5wZXJmb3JtYW5jZU1ldHJpY3MubGNwIDwgMjUwMCA/IDEwMCA6IHRoaXMucGVyZm9ybWFuY2VNZXRyaWNzLmxjcCA8IDQwMDAgPyA3NSA6IDUwLFxuICAgICAgZmlkOiB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5maWQgPCAxMDAgPyAxMDAgOiB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5maWQgPCAzMDAgPyA3NSA6IDUwLFxuICAgICAgY2xzOiB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5jbHMgPCAwLjEgPyAxMDAgOiB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5jbHMgPCAwLjI1ID8gNzUgOiA1MFxuICAgIH07XG5cbiAgICB0aGlzLnBlcmZvcm1hbmNlTWV0cmljcy5zY29yZSA9IE1hdGgucm91bmQoXG4gICAgICBPYmplY3QudmFsdWVzKHNjb3JlcykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBPYmplY3Qua2V5cyhzY29yZXMpLmxlbmd0aFxuICAgICk7XG5cbiAgICB0aGlzLnRyYWNrUGVyZm9ybWFuY2VNZXRyaWMoJ3Njb3JlJywgdGhpcy5wZXJmb3JtYW5jZU1ldHJpY3Muc2NvcmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrIHBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgICovXG4gIHByaXZhdGUgdHJhY2tQZXJmb3JtYW5jZU1ldHJpYyhtZXRyaWM6IHN0cmluZywgdmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudHJhY2tFdmVudCgncGVyZm9ybWFuY2VfbWV0cmljJywgJ3BlcmZvcm1hbmNlJywgbWV0cmljLCB1bmRlZmluZWQsIHZhbHVlKTtcbiAgICBcbiAgICAvLyBMb2cgY3JpdGljYWwgcGVyZm9ybWFuY2UgaXNzdWVzXG4gICAgaWYgKG1ldHJpYyA9PT0gJ2xjcCcgJiYgdmFsdWUgPiA0MDAwKSB7XG4gICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihgUG9vciBMQ1A6ICR7dmFsdWV9bXNgKSwgJ3BlcmZvcm1hbmNlJywgJ2hpZ2gnKTtcbiAgICB9XG4gICAgaWYgKG1ldHJpYyA9PT0gJ2ZpZCcgJiYgdmFsdWUgPiAzMDApIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IobmV3IEVycm9yKGBQb29yIEZJRDogJHt2YWx1ZX1tc2ApLCAncGVyZm9ybWFuY2UnLCAnaGlnaCcpO1xuICAgIH1cbiAgICBpZiAobWV0cmljID09PSAnY2xzJyAmJiB2YWx1ZSA+IDAuMjUpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IobmV3IEVycm9yKGBQb29yIENMUzogJHt2YWx1ZX1gKSwgJ3BlcmZvcm1hbmNlJywgJ2hpZ2gnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbGwgd2Vic2l0ZSBmZWF0dXJlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQWxsRmVhdHVyZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXG4gICAgICB0aGlzLmluaXRpYWxpemVQYXJ0aWNsZXMsXG4gICAgICB0aGlzLmluaXRpYWxpemVTY3JvbGxQcm9ncmVzcyxcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVNtb290aFNjcm9sbGluZyxcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUFuaW1hdGlvbnMsXG4gICAgICB0aGlzLmluaXRpYWxpemVDb250YWN0Rm9ybSxcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvdW50ZXJzLFxuICAgICAgdGhpcy5pbml0aWFsaXplTGF6eUxvYWRpbmcsXG4gICAgICB0aGlzLmluaXRpYWxpemVQV0EsXG4gICAgICB0aGlzLmluaXRpYWxpemVBZHZhbmNlZEFuaW1hdGlvbnMsXG4gICAgICB0aGlzLmluaXRpYWxpemVQb3J0Zm9saW9GaWx0ZXJpbmcsXG4gICAgICB0aGlzLmluaXRpYWxpemVTZWFyY2hGdW5jdGlvbmFsaXR5LFxuICAgICAgdGhpcy5pbml0aWFsaXplVG91Y2hHZXN0dXJlcyxcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vYmlsZU9wdGltaXphdGlvbnMsXG4gICAgICB0aGlzLmluaXRpYWxpemVMb2FkaW5nU2NyZWVuLFxuICAgICAgdGhpcy5pbml0aWFsaXplVHlwaW5nQW5pbWF0aW9uLFxuICAgICAgdGhpcy5pbml0aWFsaXplUHJvZ3Jlc3NCYXJzLFxuICAgICAgdGhpcy5pbml0aWFsaXplU2Nyb2xsUmV2ZWFsLFxuICAgICAgdGhpcy5pbml0aWFsaXplRmxvYXRpbmdBY3Rpb25CdXR0b24sXG4gICAgICB0aGlzLmluaXRpYWxpemVTa2lsbHNBc3Nlc3NtZW50XG4gICAgXTtcblxuICAgIC8vIEluaXRpYWxpemUgZmVhdHVyZXMgd2l0aCBlcnJvciBoYW5kbGluZ1xuICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBmZWF0dXJlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmVhdHVyZS5jYWxsKHRoaXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciBhcyBFcnJvciwgJ2ZlYXR1cmVfaW5pdGlhbGl6YXRpb24nLCBmZWF0dXJlLm5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHBhcnRpY2xlcy5qcyB3aXRoIHByb3BlciB0eXBpbmdcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBhcnRpY2xlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodHlwZW9mIHBhcnRpY2xlc0pTID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKCdQYXJ0aWNsZXMuanMgbm90IGxvYWRlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIHBhcnRpY2xlczoge1xuICAgICAgICBudW1iZXI6IHsgdmFsdWU6IDgwLCBkZW5zaXR5OiB7IGVuYWJsZTogdHJ1ZSwgdmFsdWVfYXJlYTogODAwIH0gfSxcbiAgICAgICAgY29sb3I6IHsgdmFsdWU6ICcjZmZmZmZmJyB9LFxuICAgICAgICBzaGFwZTogeyB0eXBlOiAnY2lyY2xlJyBhcyBjb25zdCB9LFxuICAgICAgICBvcGFjaXR5OiB7IHZhbHVlOiAwLjUsIHJhbmRvbTogZmFsc2UgfSxcbiAgICAgICAgc2l6ZTogeyB2YWx1ZTogMywgcmFuZG9tOiB0cnVlIH0sXG4gICAgICAgIGxpbmVfbGlua2VkOiB7IFxuICAgICAgICAgIGVuYWJsZTogdHJ1ZSwgXG4gICAgICAgICAgZGlzdGFuY2U6IDE1MCwgXG4gICAgICAgICAgY29sb3I6ICcjZmZmZmZmJywgXG4gICAgICAgICAgb3BhY2l0eTogMC40LCBcbiAgICAgICAgICB3aWR0aDogMSBcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZTogeyBcbiAgICAgICAgICBlbmFibGU6IHRydWUsIFxuICAgICAgICAgIHNwZWVkOiA2LCBcbiAgICAgICAgICBkaXJlY3Rpb246ICdub25lJyBhcyBjb25zdCwgXG4gICAgICAgICAgcmFuZG9tOiBmYWxzZSwgXG4gICAgICAgICAgc3RyYWlnaHQ6IGZhbHNlLCBcbiAgICAgICAgICBvdXRfbW9kZTogJ291dCcgYXMgY29uc3QsIFxuICAgICAgICAgIGJvdW5jZTogZmFsc2UgXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbnRlcmFjdGl2aXR5OiB7XG4gICAgICAgIGRldGVjdF9vbjogJ2NhbnZhcycgYXMgY29uc3QsXG4gICAgICAgIGV2ZW50czogeyBcbiAgICAgICAgICBvbmhvdmVyOiB7IGVuYWJsZTogdHJ1ZSwgbW9kZTogJ3JlcHVsc2UnIGFzIGNvbnN0IH0sIFxuICAgICAgICAgIG9uY2xpY2s6IHsgZW5hYmxlOiB0cnVlLCBtb2RlOiAncHVzaCcgYXMgY29uc3QgfSwgXG4gICAgICAgICAgcmVzaXplOiB0cnVlIFxuICAgICAgICB9LFxuICAgICAgICBtb2RlczogeyBcbiAgICAgICAgICBncmFiOiB7IGRpc3RhbmNlOiA0MDAsIGxpbmVfbGlua2VkOiB7IG9wYWNpdHk6IDEgfSB9LCBcbiAgICAgICAgICBidWJibGU6IHsgZGlzdGFuY2U6IDQwMCwgc2l6ZTogNDAsIGR1cmF0aW9uOiAyLCBvcGFjaXR5OiA4LCBzcGVlZDogMyB9LCBcbiAgICAgICAgICByZXB1bHNlOiB7IGRpc3RhbmNlOiAyMDAsIGR1cmF0aW9uOiAwLjQgfSwgXG4gICAgICAgICAgcHVzaDogeyBwYXJ0aWNsZXNfbmI6IDQgfSwgXG4gICAgICAgICAgcmVtb3ZlOiB7IHBhcnRpY2xlc19uYjogMiB9IFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmV0aW5hX2RldGVjdDogdHJ1ZVxuICAgIH07XG5cbiAgICBwYXJ0aWNsZXNKUygncGFydGljbGVzLWpzJywgY29uZmlnKTtcbiAgICB0aGlzLnRyYWNrRXZlbnQoJ3BhcnRpY2xlc19pbml0aWFsaXplZCcsICdhbmltYXRpb24nLCAnc2V0dXAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNjcm9sbCBwcm9ncmVzcyB3aXRoIHR5cGUgc2FmZXR5XG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVTY3JvbGxQcm9ncmVzcygpOiB2b2lkIHtcbiAgICBjb25zdCBzY3JvbGxQcm9ncmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JvbGxQcm9ncmVzcycpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICghc2Nyb2xsUHJvZ3Jlc3MpIHJldHVybjtcblxuICAgIGNvbnN0IHVwZGF0ZVByb2dyZXNzID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgY29uc3QgZG9jSGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCBzY3JvbGxQZXJjZW50ID0gTWF0aC5taW4oKHNjcm9sbFRvcCAvIGRvY0hlaWdodCkgKiAxMDAsIDEwMCk7XG4gICAgICBzY3JvbGxQcm9ncmVzcy5zdHlsZS53aWR0aCA9IGAke3Njcm9sbFBlcmNlbnR9JWA7XG4gICAgfTtcblxuICAgIC8vIFRocm90dGxlIHNjcm9sbCBldmVudHMgZm9yIHBlcmZvcm1hbmNlXG4gICAgbGV0IHRpY2tpbmcgPSBmYWxzZTtcbiAgICBjb25zdCB0aHJvdHRsZWRVcGRhdGUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBpZiAoIXRpY2tpbmcpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB1cGRhdGVQcm9ncmVzcygpO1xuICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhyb3R0bGVkVXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdGhpcy50cmFja0V2ZW50KCdzY3JvbGxfcHJvZ3Jlc3NfaW5pdGlhbGl6ZWQnLCAndWknLCAnc2V0dXAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNtb290aCBzY3JvbGxpbmcgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmdcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNtb290aFNjcm9sbGluZygpOiB2b2lkIHtcbiAgICBjb25zdCBuYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtbGlua1tocmVmXj1cIiNcIl0nKSBhcyBOb2RlTGlzdE9mPEhUTUxBbmNob3JFbGVtZW50PjtcbiAgICBcbiAgICBuYXZMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBFdmVudCkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKT8uc3Vic3RyaW5nKDEpO1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SWQgfHwgJycpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSB0YXJnZXRFbGVtZW50Lm9mZnNldFRvcCAtIDgwOyAvLyBBY2NvdW50IGZvciBmaXhlZCBuYXZiYXJcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgdG9wOiBvZmZzZXRUb3AsXG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLnRyYWNrRXZlbnQoJ25hdmlnYXRpb25fY2xpY2snLCAnbmF2aWdhdGlvbicsICdzbW9vdGhfc2Nyb2xsJywgdGFyZ2V0SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGNvbnRhY3QgZm9ybSB3aXRoIHZhbGlkYXRpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUNvbnRhY3RGb3JtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEZvcm0nKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgaWYgKCFmb3JtKSByZXR1cm47XG5cbiAgICAvLyBGb3JtIHZhbGlkYXRpb25cbiAgICBjb25zdCB2YWxpZGF0ZUZvcm0gPSAoZm9ybURhdGE6IENvbnRhY3RGb3JtRGF0YSk6IHN0cmluZ1tdID0+IHtcbiAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcbiAgICAgIFxuICAgICAgaWYgKCFmb3JtRGF0YS5uYW1lLnRyaW0oKSkgZXJyb3JzLnB1c2goJ05hbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAgIGlmICghZm9ybURhdGEuZW1haWwudHJpbSgpKSBlcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQnKTtcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkRW1haWwoZm9ybURhdGEuZW1haWwpKSBlcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQnKTtcbiAgICAgIGlmICghZm9ybURhdGEuc3ViamVjdC50cmltKCkpIGVycm9ycy5wdXNoKCdTdWJqZWN0IGlzIHJlcXVpcmVkJyk7XG4gICAgICBpZiAoIWZvcm1EYXRhLm1lc3NhZ2UudHJpbSgpKSBlcnJvcnMucHVzaCgnTWVzc2FnZSBpcyByZXF1aXJlZCcpO1xuICAgICAgXG4gICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH07XG5cbiAgICAvLyBFbWFpbCB2YWxpZGF0aW9uXG4gICAgdGhpcy5pc1ZhbGlkRW1haWwgPSAoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCk7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGU6IEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZvcm1EYXRhOiBDb250YWN0Rm9ybURhdGEgPSB7XG4gICAgICAgIG5hbWU6IChmb3JtLnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlIHx8ICcnLFxuICAgICAgICBlbWFpbDogKGZvcm0ucXVlcnlTZWxlY3RvcignI2VtYWlsJykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlIHx8ICcnLFxuICAgICAgICBzdWJqZWN0OiAoZm9ybS5xdWVyeVNlbGVjdG9yKCcjc3ViamVjdCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgbWVzc2FnZTogKGZvcm0ucXVlcnlTZWxlY3RvcignI21lc3NhZ2UnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KT8udmFsdWUgfHwgJycsXG4gICAgICAgIGNvbXBhbnk6IChmb3JtLnF1ZXJ5U2VsZWN0b3IoJyNjb21wYW55JykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlIHx8ICcnLFxuICAgICAgICBwaG9uZTogKGZvcm0ucXVlcnlTZWxlY3RvcignI3Bob25lJykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlIHx8ICcnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0ZUZvcm0oZm9ybURhdGEpO1xuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc2hvd0Zvcm1FcnJvcnMoZXJyb3JzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN1Ym1pdENvbnRhY3RGb3JtKGZvcm1EYXRhKTtcbiAgICAgICAgdGhpcy5zaG93U3VjY2Vzc01lc3NhZ2UoJ01lc3NhZ2Ugc2VudCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgdGhpcy50cmFja0V2ZW50KCdjb250YWN0X2Zvcm1fc3VibWl0dGVkJywgJ2Zvcm0nLCAnc3VibWl0Jyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yIGFzIEVycm9yLCAnY29udGFjdF9mb3JtX3N1Ym1pc3Npb24nKTtcbiAgICAgICAgdGhpcy5zaG93RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCBjb250YWN0IGZvcm0gd2l0aCBFbWFpbEpTXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHN1Ym1pdENvbnRhY3RGb3JtKGZvcm1EYXRhOiBDb250YWN0Rm9ybURhdGEpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodHlwZW9mIGVtYWlsanMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsSlMgbm90IGxvYWRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBsYXRlUGFyYW1zID0ge1xuICAgICAgZnJvbV9uYW1lOiBmb3JtRGF0YS5uYW1lLFxuICAgICAgZnJvbV9lbWFpbDogZm9ybURhdGEuZW1haWwsXG4gICAgICBzdWJqZWN0OiBmb3JtRGF0YS5zdWJqZWN0LFxuICAgICAgbWVzc2FnZTogZm9ybURhdGEubWVzc2FnZSxcbiAgICAgIGNvbXBhbnk6IGZvcm1EYXRhLmNvbXBhbnkgfHwgJycsXG4gICAgICBwaG9uZTogZm9ybURhdGEucGhvbmUgfHwgJydcbiAgICB9O1xuXG4gICAgYXdhaXQgZW1haWxqcy5zZW5kKFxuICAgICAgJ3NlcnZpY2VfcG9ydGZvbGlvJyxcbiAgICAgICd0ZW1wbGF0ZV9jb250YWN0JyxcbiAgICAgIHRlbXBsYXRlUGFyYW1zLFxuICAgICAgJ3VzZXJfcG9ydGZvbGlvJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBza2lsbHMgYXNzZXNzbWVudCB3aXRoIFR5cGVTY3JpcHRcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNraWxsc0Fzc2Vzc21lbnQoKTogdm9pZCB7XG4gICAgY29uc3QgYXNzZXNzbWVudENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNraWxsLWFzc2Vzc21lbnQtY2FyZCcpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgIFxuICAgIGFzc2Vzc21lbnRDYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY29uc3Qgc2tpbGwgPSBjYXJkLmRhdGFzZXQuc2tpbGw7XG4gICAgICBpZiAoIXNraWxsKSByZXR1cm47XG5cbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc3RhcnRTa2lsbEFzc2Vzc21lbnQoc2tpbGwpO1xuICAgICAgICB0aGlzLnRyYWNrRXZlbnQoJ3NraWxsX2Fzc2Vzc21lbnRfc3RhcnRlZCcsICdpbnRlcmFjdGlvbicsICdxdWl6Jywgc2tpbGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgc2tpbGwgYXNzZXNzbWVudFxuICAgKi9cbiAgcHJpdmF0ZSBzdGFydFNraWxsQXNzZXNzbWVudChza2lsbDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2tpbGxBc3Nlc3NtZW50TW9kYWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBza2lsbE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNzZXNzbWVudFNraWxsTmFtZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIFxuICAgIGlmICghbW9kYWwgfHwgIXNraWxsTmFtZSkgcmV0dXJuO1xuXG4gICAgc2tpbGxOYW1lLnRleHRDb250ZW50ID0gYCR7c2tpbGwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBza2lsbC5zbGljZSgxKX0gQXNzZXNzbWVudGA7XG4gICAgXG4gICAgLy8gTG9hZCBhc3Nlc3NtZW50IHF1ZXN0aW9uc1xuICAgIHRoaXMubG9hZEFzc2Vzc21lbnRRdWVzdGlvbnMoc2tpbGwpO1xuICAgIFxuICAgIC8vIFNob3cgbW9kYWxcbiAgICBjb25zdCBib290c3RyYXBNb2RhbCA9IG5ldyAod2luZG93IGFzIGFueSkuYm9vdHN0cmFwLk1vZGFsKG1vZGFsKTtcbiAgICBib290c3RyYXBNb2RhbC5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhc3Nlc3NtZW50IHF1ZXN0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBsb2FkQXNzZXNzbWVudFF1ZXN0aW9ucyhza2lsbDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgcXVlc3Rpb25zID0gdGhpcy5nZXRBc3Nlc3NtZW50UXVlc3Rpb25zKHNraWxsKTtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fzc2Vzc21lbnRDb250ZW50JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgXG4gICAgaWYgKCFjb250ZW50KSByZXR1cm47XG5cbiAgICBjb250ZW50LmlubmVySFRNTCA9IHRoaXMucmVuZGVyQXNzZXNzbWVudFF1ZXN0aW9ucyhxdWVzdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhc3Nlc3NtZW50IHF1ZXN0aW9ucyBmb3IgYSBza2lsbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRBc3Nlc3NtZW50UXVlc3Rpb25zKHNraWxsOiBzdHJpbmcpOiBhbnlbXSB7XG4gICAgY29uc3QgcXVlc3Rpb25CYW5rOiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0gPSB7XG4gICAgICBweXRob246IFtcbiAgICAgICAge1xuICAgICAgICAgIHF1ZXN0aW9uOiBcIldoYXQgaXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGxpc3QgYW5kIGEgdHVwbGUgaW4gUHl0aG9uP1wiLFxuICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgIFwiTGlzdHMgYXJlIG11dGFibGUsIHR1cGxlcyBhcmUgaW1tdXRhYmxlXCIsXG4gICAgICAgICAgICBcIlR1cGxlcyBhcmUgbXV0YWJsZSwgbGlzdHMgYXJlIGltbXV0YWJsZVwiLFxuICAgICAgICAgICAgXCJObyBkaWZmZXJlbmNlXCIsXG4gICAgICAgICAgICBcIkxpc3RzIGFyZSBmYXN0ZXIgdGhhbiB0dXBsZXNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgY29ycmVjdDogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgamF2YXNjcmlwdDogW1xuICAgICAgICB7XG4gICAgICAgICAgcXVlc3Rpb246IFwiV2hhdCBpcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICdsZXQnIGFuZCAndmFyJyBpbiBKYXZhU2NyaXB0P1wiLFxuICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgIFwibGV0IGhhcyBibG9jayBzY29wZSwgdmFyIGhhcyBmdW5jdGlvbiBzY29wZVwiLFxuICAgICAgICAgICAgXCJ2YXIgaGFzIGJsb2NrIHNjb3BlLCBsZXQgaGFzIGZ1bmN0aW9uIHNjb3BlXCIsXG4gICAgICAgICAgICBcIk5vIGRpZmZlcmVuY2VcIixcbiAgICAgICAgICAgIFwibGV0IGlzIGZhc3RlciB0aGFuIHZhclwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb3JyZWN0OiAwXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHF1ZXN0aW9uQmFua1tza2lsbF0gfHwgW107XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGFzc2Vzc21lbnQgcXVlc3Rpb25zXG4gICAqL1xuICBwcml2YXRlIHJlbmRlckFzc2Vzc21lbnRRdWVzdGlvbnMocXVlc3Rpb25zOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgaWYgKHF1ZXN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnPHA+Tm8gcXVlc3Rpb25zIGF2YWlsYWJsZSBmb3IgdGhpcyBza2lsbC48L3A+JztcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlc3Rpb25zLm1hcCgocSwgaW5kZXgpID0+IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1jYXJkIG1iLTRcIj5cbiAgICAgICAgPGg1PlF1ZXN0aW9uICR7aW5kZXggKyAxfTwvaDU+XG4gICAgICAgIDxwPiR7cS5xdWVzdGlvbn08L3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbnN3ZXItb3B0aW9uc1wiPlxuICAgICAgICAgICR7cS5vcHRpb25zLm1hcCgob3B0aW9uOiBzdHJpbmcsIGk6IG51bWJlcikgPT4gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuc3dlci1vcHRpb25cIiBkYXRhLWFuc3dlcj1cIiR7aX1cIj5cbiAgICAgICAgICAgICAgJHtvcHRpb259XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgKS5qb2luKCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBjb21wcmVoZW5zaXZlIGVycm9yIGhhbmRsaW5nXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHNldHVwRXJyb3JIYW5kbGluZygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBHbG9iYWwgZXJyb3IgaGFuZGxlclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudDogRXJyb3JFdmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihldmVudC5lcnJvciwgJ2dsb2JhbF9lcnJvcicsICdjcml0aWNhbCcpO1xuICAgIH0pO1xuXG4gICAgLy8gVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIGhhbmRsZXJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgKGV2ZW50OiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IobmV3IEVycm9yKGV2ZW50LnJlYXNvbiksICd1bmhhbmRsZWRfcHJvbWlzZV9yZWplY3Rpb24nLCAnaGlnaCcpO1xuICAgIH0pO1xuXG4gICAgLy8gUGVyZm9ybWFuY2UgZXJyb3IgaGFuZGxlclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudDogRXJyb3JFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmZpbGVuYW1lICYmIGV2ZW50LmZpbGVuYW1lLmluY2x1ZGVzKCdzY3JpcHQnKSkge1xuICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGV2ZW50LmVycm9yLCAnc2NyaXB0X2Vycm9yJywgJ2hpZ2gnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZXJyb3JzIHdpdGggcHJvcGVyIHJlcG9ydGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogRXJyb3IsIGNvbnRleHQ6IHN0cmluZywgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnID0gJ21lZGl1bScpOiB2b2lkIHtcbiAgICBjb25zdCBlcnJvclJlcG9ydDogRXJyb3JSZXBvcnQgPSB7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIGxpbmU6IGVycm9yLnN0YWNrID8gdGhpcy5leHRyYWN0TGluZU51bWJlcihlcnJvci5zdGFjaykgOiB1bmRlZmluZWQsXG4gICAgICBjb2x1bW46IGVycm9yLnN0YWNrID8gdGhpcy5leHRyYWN0Q29sdW1uTnVtYmVyKGVycm9yLnN0YWNrKSA6IHVuZGVmaW5lZCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5nZXRTZXNzaW9uSWQoKSxcbiAgICAgIHNldmVyaXR5XG4gICAgfTtcblxuICAgIHRoaXMuZXJyb3JSZXBvcnRzLnB1c2goZXJyb3JSZXBvcnQpO1xuICAgIFxuICAgIC8vIExvZyB0byBjb25zb2xlXG4gICAgY29uc29sZS5lcnJvcihgWyR7c2V2ZXJpdHkudG9VcHBlckNhc2UoKX1dICR7Y29udGV4dH06YCwgZXJyb3IpO1xuICAgIFxuICAgIC8vIFRyYWNrIGVycm9yIGV2ZW50XG4gICAgdGhpcy50cmFja0V2ZW50KCdlcnJvcl9vY2N1cnJlZCcsICdlcnJvcicsIGNvbnRleHQsIHNldmVyaXR5KTtcbiAgICBcbiAgICAvLyBSZXBvcnQgY3JpdGljYWwgZXJyb3JzXG4gICAgaWYgKHNldmVyaXR5ID09PSAnY3JpdGljYWwnKSB7XG4gICAgICB0aGlzLnJlcG9ydENyaXRpY2FsRXJyb3IoZXJyb3JSZXBvcnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGxpbmUgbnVtYmVyIGZyb20gc3RhY2sgdHJhY2VcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdExpbmVOdW1iZXIoc3RhY2s6IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgbWF0Y2ggPSBzdGFjay5tYXRjaCgvOihcXGQrKTpcXGQrLyk7XG4gICAgcmV0dXJuIG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0pIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgY29sdW1uIG51bWJlciBmcm9tIHN0YWNrIHRyYWNlXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RDb2x1bW5OdW1iZXIoc3RhY2s6IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgbWF0Y2ggPSBzdGFjay5tYXRjaCgvOlxcZCs6KFxcZCspLyk7XG4gICAgcmV0dXJuIG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0pIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvciBjcmVhdGUgc2Vzc2lvbiBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgICBsZXQgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbklkJyk7XG4gICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgIHNlc3Npb25JZCA9IGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25JZCcsIHNlc3Npb25JZCk7XG4gICAgfVxuICAgIHJldHVybiBzZXNzaW9uSWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IGNyaXRpY2FsIGVycm9yc1xuICAgKi9cbiAgcHJpdmF0ZSByZXBvcnRDcml0aWNhbEVycm9yKGVycm9yUmVwb3J0OiBFcnJvclJlcG9ydCk6IHZvaWQge1xuICAgIC8vIEluIGEgcmVhbCBhcHBsaWNhdGlvbiwgdGhpcyB3b3VsZCBzZW5kIHRvIGFuIGVycm9yIHJlcG9ydGluZyBzZXJ2aWNlXG4gICAgY29uc29sZS5lcnJvcignQ1JJVElDQUwgRVJST1IgUkVQT1JUOicsIGVycm9yUmVwb3J0KTtcbiAgICBcbiAgICAvLyBTaG93IHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZVxuICAgIHRoaXMuc2hvd0Vycm9yTWVzc2FnZSgnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UuJyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbmFseXRpY3MgdHJhY2tpbmdcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUFuYWx5dGljcygpOiB2b2lkIHtcbiAgICAvLyBUcmFjayBwYWdlIHZpZXdcbiAgICB0aGlzLnRyYWNrRXZlbnQoJ3BhZ2VfdmlldycsICduYXZpZ2F0aW9uJywgJ2xvYWQnLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIFxuICAgIC8vIFRyYWNrIHVzZXIgaW50ZXJhY3Rpb25zXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICB0aGlzLnRyYWNrRXZlbnQoJ2xpbmtfY2xpY2snLCAnbmF2aWdhdGlvbicsICdjbGljaycsICh0YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrIGFuYWx5dGljcyBldmVudHNcbiAgICovXG4gIHByaXZhdGUgdHJhY2tFdmVudChcbiAgICBldmVudDogc3RyaW5nLCBcbiAgICBjYXRlZ29yeTogc3RyaW5nLCBcbiAgICBhY3Rpb246IHN0cmluZywgXG4gICAgbGFiZWw/OiBzdHJpbmcsIFxuICAgIHZhbHVlPzogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGFuYWx5dGljc0V2ZW50OiBBbmFseXRpY3NFdmVudCA9IHtcbiAgICAgIGV2ZW50LFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBhY3Rpb24sXG4gICAgICBsYWJlbCxcbiAgICAgIHZhbHVlLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLmdldFNlc3Npb25JZCgpXG4gICAgfTtcblxuICAgIHRoaXMuYW5hbHl0aWNzRXZlbnRzLnB1c2goYW5hbHl0aWNzRXZlbnQpO1xuICAgIFxuICAgIC8vIFNlbmQgdG8gYW5hbHl0aWNzIHNlcnZpY2UgKEdvb2dsZSBBbmFseXRpY3MsIGV0Yy4pXG4gICAgaWYgKHR5cGVvZiBndGFnICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZ3RhZygnZXZlbnQnLCBhY3Rpb24sIHtcbiAgICAgICAgZXZlbnRfY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBldmVudF9sYWJlbDogbGFiZWwsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgZm9ybSB2YWxpZGF0aW9uIGVycm9yc1xuICAgKi9cbiAgcHJpdmF0ZSBzaG93Rm9ybUVycm9ycyhlcnJvcnM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgY29uc3QgZXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybUVycm9ycycpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChlcnJvckNvbnRhaW5lcikge1xuICAgICAgZXJyb3JDb250YWluZXIuaW5uZXJIVE1MID0gZXJyb3JzLm1hcChlcnJvciA9PiBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPiR7ZXJyb3J9PC9kaXY+YCkuam9pbignJyk7XG4gICAgICBlcnJvckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICovXG4gIHByaXZhdGUgc2hvd1N1Y2Nlc3NNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2hvd0FsZXJ0KG1lc3NhZ2UsICdzdWNjZXNzJyk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBlcnJvciBtZXNzYWdlXG4gICAqL1xuICBwcml2YXRlIHNob3dFcnJvck1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zaG93QWxlcnQobWVzc2FnZSwgJ2RhbmdlcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYWxlcnQgbWVzc2FnZVxuICAgKi9cbiAgcHJpdmF0ZSBzaG93QWxlcnQobWVzc2FnZTogc3RyaW5nLCB0eXBlOiAnc3VjY2VzcycgfCAnZGFuZ2VyJyB8ICd3YXJuaW5nJyB8ICdpbmZvJyk6IHZvaWQge1xuICAgIGNvbnN0IGFsZXJ0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsZXJ0Q29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKCFhbGVydENvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY29uc3QgYWxlcnRJZCA9IGBhbGVydF8ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBhbGVydEhUTUwgPSBgXG4gICAgICA8ZGl2IGlkPVwiJHthbGVydElkfVwiIGNsYXNzPVwiYWxlcnQgYWxlcnQtJHt0eXBlfSBhbGVydC1kaXNtaXNzaWJsZSBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgJHttZXNzYWdlfVxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jbG9zZVwiIGRhdGEtYnMtZGlzbWlzcz1cImFsZXJ0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgYWxlcnRDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBhbGVydEhUTUwpO1xuICAgIFxuICAgIC8vIEF1dG8tcmVtb3ZlIGFmdGVyIDUgc2Vjb25kc1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgYWxlcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhbGVydElkKTtcbiAgICAgIGlmIChhbGVydCkge1xuICAgICAgICBhbGVydC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIC8vIFBsYWNlaG9sZGVyIG1ldGhvZHMgZm9yIG90aGVyIGZlYXR1cmVzICh0byBiZSBpbXBsZW1lbnRlZClcbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQW5pbWF0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVDb3VudGVycygpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVMYXp5TG9hZGluZygpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVQV0EoKTogUHJvbWlzZTx2b2lkPiB7IC8qIEltcGxlbWVudGF0aW9uICovIH1cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQWR2YW5jZWRBbmltYXRpb25zKCk6IFByb21pc2U8dm9pZD4geyAvKiBJbXBsZW1lbnRhdGlvbiAqLyB9XG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVBvcnRmb2xpb0ZpbHRlcmluZygpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTZWFyY2hGdW5jdGlvbmFsaXR5KCk6IFByb21pc2U8dm9pZD4geyAvKiBJbXBsZW1lbnRhdGlvbiAqLyB9XG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVRvdWNoR2VzdHVyZXMoKTogUHJvbWlzZTx2b2lkPiB7IC8qIEltcGxlbWVudGF0aW9uICovIH1cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplTW9iaWxlT3B0aW1pemF0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVMb2FkaW5nU2NyZWVuKCk6IFByb21pc2U8dm9pZD4geyAvKiBJbXBsZW1lbnRhdGlvbiAqLyB9XG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVR5cGluZ0FuaW1hdGlvbigpOiBQcm9taXNlPHZvaWQ+IHsgLyogSW1wbGVtZW50YXRpb24gKi8gfVxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVQcm9ncmVzc0JhcnMoKTogUHJvbWlzZTx2b2lkPiB7IC8qIEltcGxlbWVudGF0aW9uICovIH1cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplU2Nyb2xsUmV2ZWFsKCk6IFByb21pc2U8dm9pZD4geyAvKiBJbXBsZW1lbnRhdGlvbiAqLyB9XG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUZsb2F0aW5nQWN0aW9uQnV0dG9uKCk6IFByb21pc2U8dm9pZD4geyAvKiBJbXBsZW1lbnRhdGlvbiAqLyB9XG5cbiAgLy8gVXRpbGl0eSBtZXRob2QgZm9yIGVtYWlsIHZhbGlkYXRpb25cbiAgcHJpdmF0ZSBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsKTtcbiAgfVxufVxuXG4vLyBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbiB3aGVuIERPTSBpcyByZWFkeVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgbmV3IFBvcnRmb2xpb0FwcCgpO1xufSk7XG5cbi8vIEV4cG9ydCBmb3IgdGVzdGluZ1xuZXhwb3J0IGRlZmF1bHQgUG9ydGZvbGlvQXBwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/main.ts\n\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/scripts/main.ts"](0,__webpack_exports__,__webpack_require__);
/******/ 	
/******/ })()
;